<html>
  <head>
    <title>Shooting Academy</title>
    <link rel="icon" href="https://www.clipartmax.com/png/middle/129-1299248_red-crosshair-png-transparent.png" type="image/icon type">
    <link rel="stylesheet" href="style.css" type="text/css">
  </head>
  <body>
    <div class="fadeOut" id="startPage">
      <img id="imgStart" src="https://i.pinimg.com/originals/a3/17/60/a317607ab09036f79dd0af706a92c06e.gif" alt="AK-47">
      <button type="button" id="howTo" onclick="myFunction('howTo')">How to play</button>
      <button type="button" id="play" onclick="myFunction('play'), start(), playAudio('./12-Gauge-Pump-Action-Shotgun-Close-Gunshot-A-www.fesliyanstudios.com.mp3')">Play game</button>
    </div>
    <div class="fadeIn" id='playDiv' onclick="playAudio('./12-Gauge-Pump-Action-Shotgun-Close-Gunshot-A-www.fesliyanstudios.com.mp3')">
      <h1 id="timer"></h1>
      <input type="image" id="enemy" src="./kisspng-soldier-deviantart-sprite-infantry-soldiers-5abcffaf64f7e2.8374651815223356634136.png" onclick="scoring()">
    </div>
    <div class="fadeIn" id='howToDiv'>
      This is how to div
    </div>
  </body>
  <script type="text/javascript">
  let flag = false
    function myFunction (str) {
      document.getElementById(str).parentElement.style.opacity = '0'
      if (str === 'play') {
        document.getElementById('playDiv').style.opacity= '1'
        document.getElementById('playDiv').style.zIndex= '1'
        document.getElementById('howToDiv').style.display= 'none'
      } else {
        document.getElementById('howToDiv').style.opacity= '1'
        document.getElementById('playDiv').style.display= 'none'
      }
      flag = true
      return flag
    }
    if (flag) {
      document.getElementById('startPage').style.display = 'none'
    }

    function playAudio(url) {
      new Audio(url).play();
    }
    var timer;
    var add;
    let num = 4000
    let score = 0
    function gameFunction () {
      let enemy = document.getElementById('enemy')
      enemy.style.zIndex = '2'
      if (enemy.style.opacity == 0) {
        enemy.style.opacity = 1
        let x = Math.random() * (85 - 0) + 0
        let y = Math.random() * (60 - 40) + 40
        enemy.style.left = `${x.toString()}%`
        enemy.style.top = `${y.toString()}%`
      } else {
        enemy.style.opacity = 0
      }
    }
    
    function scoring () {
      score++
      num -= 100
      document.getElementById('enemy').style.opacity = 0
      if (num <= 1500) {
        clearInterval(add)
        console.log(score)
      } else {
        clearInterval(add)
        start()
      }
    }
    let seconds = 60
    function timerFunction () {
      seconds--
      document.getElementById('timer').innerHTML = `<strong>${seconds}</strong>` 
    }

    function start () {
      add = setInterval (gameFunction, num)
      timer = setInterval (timerFunction, 1000)
    }

  </script>
</html>